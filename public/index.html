<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>–°–æ—é–∑–º—É–ª—å—Ç–ø–∞—Ä–∫ ‚Äî AR</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 64 64%22><text y=%2250%25%22 x=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-size=%2248%22>üéüÔ∏è</text></svg>">
  <link rel="stylesheet" href="./styles.css" />
  <!-- A-Frame & MindAR (CDN) -->
  <script src="https://unpkg.com/aframe@1.6.0/dist/aframe.min.js"></script>
  <script src="https://unpkg.com/mind-ar/dist/mindar-image-aframe.prod.js"></script>
</head>
<body>
  <!-- –ü—Ä–µ–ª–æ–∞–¥–µ—Ä -->
  <div id="preloader" class="preloader">–ó–∞–≥—Ä—É–∂–∞–µ–º AR‚Ä¶</div>

  <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∏ -->
  <div id="hint" class="overlay hidden"></div>

  <!-- UI -->
  <div id="ui" class="ui">
    <button id="btn-help" aria-label="–ü–æ–º–æ—â—å">?</button>
    <button id="btn-snap" aria-label="–°–Ω–∏–º–æ–∫" disabled>üì∏ –°–Ω–∏–º–æ–∫</button>
    <button id="btn-selfie" aria-label="–°–µ–ª—Ñ–∏">ü§≥ –°–µ–ª—Ñ–∏</button>
    <button id="btn-ticket" aria-label="–ë–∏–ª–µ—Ç—ã" onclick="location.href='ticket.html'">üéüÔ∏è –ë–∏–ª–µ—Ç—ã</button>
  </div>

  <!-- –û–≤–µ—Ä–ª–µ–∏ -->
  <div id="rotate" class="rotate hidden">–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º</div>
  <div id="ios-gate" class="gate hidden">
    <p>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É</p>
    <button id="ios-allow">–í–∫–ª—é—á–∏—Ç—å</button>
  </div>

  <!-- –°—Ü–µ–Ω–∞ MindAR: –∏—Å–ø–æ–ª—å–∑—É–µ–º –û–î–ò–ù targets.mind -->
  <a-scene
    renderer="alpha:true; colorManagement:true; physicallyCorrectLights:true; antialias:true"
    embedded
    vr-mode-ui="enabled:false"
    device-orientation-permission-ui="enabled:true"
    mindar-image="imageTargetSrc: ./targets/targets.mind; filterMinCF:0.0002; filterBeta:0.001; warmupTolerance:5"
    loading-screen="enabled:false"
  >
    <!-- –õ—ë–≥–∫–∏–π —Å–≤–µ—Ç -->
    <a-entity light="type: ambient; intensity: 0.9"></a-entity>
    <a-entity light="type: directional; intensity: 0.8" position="0 1 0"></a-entity>

    <!-- –ß–µ–±—É—Ä–∞—à–∫–∞: –¥–æ–∂–¥—å –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤ (–ø—Ä–∏–º–∏—Ç–∏–≤—ã) -->
    <a-entity id="tgt-cheb" mindar-image-target="targetIndex: 0">
      <a-entity id="orange-rain" position="0 1 0"></a-entity>
    </a-entity>

    <!-- –®–∞–ø–æ–∫–ª—è–∫/–ì–µ–Ω–∞: ¬´–õ–∞—Ä–∏—Å–∫–∞ –º–∞—à–µ—Ç¬ª (–∑–∞–≥–ª—É—à–∫–∞ ‚Äî –∫–æ–Ω—É—Å) -->
    <a-entity id="tgt-shapo" mindar-image-target="targetIndex: 1">
      <a-cone id="lariska-model" radius-bottom="0.12" height="0.25"
              color="#9c88ff" position="0.1 0.25 0.05"></a-cone>
    </a-entity>

    <!-- –í–æ–ª–∫: –∑–∞—è—Ü –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–µ—Ç (–∑–∞–≥–ª—É—à–∫–∞ ‚Äî –∫–æ—Ä–æ–±–∫–∞), –º–æ–ø–µ–¥ (—Ç–æ—Ä) –ø–æ —Ç–∞–ø—É -->
    <a-entity id="tgt-volk" mindar-image-target="targetIndex: 2">
      <a-box id="hare-model" depth="0.08" height="0.14" width="0.12"
             color="#2ecc71" position="0.35 0.08 0.05"></a-box>
      <a-torus-knot id="moped-model" p="2" q="3" radius="0.12" radius-tubular="0.02"
                    color="#e67e22" position="-0.35 0.08 0" visible="false"></a-torus-knot>
    </a-entity>

    <a-camera position="0 0 0"></a-camera>
  </a-scene>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="./js/app.js"></script>
  <script src="./js/capture.js"></script>
  <script src="./js/ui.js"></script>
</body>
</html>
